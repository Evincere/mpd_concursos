<button mat-icon-button class="cerrar-btn" (click)="onCerrar()">
  <mat-icon>close</mat-icon>
</button>

<div class="postulacion-detalle">
  <!-- Información del Concurso -->
  <section class="seccion">
    <h2>Información del Concurso</h2>
    <div class="grid-container">
      <div class="campo">
        <div class="etiqueta">Título</div>
        <div class="valor">{{ concurso?.titulo }}</div>
      </div>
      <div class="campo">
        <div class="etiqueta">Cargo</div>
        <div class="valor">{{ concurso?.cargo }}</div>
      </div>
      <div class="campo">
        <div class="etiqueta">Categoría</div>
        <div class="valor">{{ concurso?.categoria }}</div>
      </div>
      <div class="campo">
        <div class="etiqueta">Departamento</div>
        <div class="valor">{{ concurso?.departamento }}</div>
      </div>
      <div class="campo">
        <div class="etiqueta">Estado del Concurso</div>
        <div class="valor">
          <span class="estado-badge" [ngClass]="concurso?.estado?.toLowerCase()">
            {{ concurso?.estado }}
          </span>
        </div>
      </div>
    </div>
  </section>

  <!-- Información de la Postulación -->
  <section class="seccion">
    <h2>Información de la Postulación</h2>
    <div class="grid-container">
      <div class="campo">
        <div class="etiqueta">Fecha de Inscripción</div>
        <div class="valor">{{ postulacion?.fechaPostulacion | date:'dd/MM/yyyy HH:mm' }}</div>
      </div>
      <div class="campo">
        <div class="etiqueta">Estado</div>
        <div class="valor">
          <span class="estado-badge" [ngClass]="postulacion?.estado?.toLowerCase()">
            {{ postulacion?.estado }}
          </span>
        </div>
      </div>
    </div>
  </section>

  <!-- Documentos -->
  <section class="seccion">
    <h2>Documentos</h2>
    <div class="documentos">
      <div class="documento" *ngFor="let doc of postulacion?.documentos">
        <mat-icon class="icono">description</mat-icon>
        <div class="nombre">{{ doc.nombre }}</div>
        <div class="acciones">
          <button mat-icon-button color="primary" (click)="descargarDocumento(doc)">
            <mat-icon>download</mat-icon>
          </button>
          <button mat-icon-button color="warn" (click)="eliminarDocumento(doc)">
            <mat-icon>delete</mat-icon>
          </button>
        </div>
      </div>
      
      <!-- Mensaje cuando no hay documentos -->
      <div *ngIf="!postulacion?.documentos?.length" class="campo">
        <div class="valor">No hay documentos adjuntos</div>
      </div>
    </div>
  </section>
</div>
