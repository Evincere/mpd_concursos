<div class="postulaciones-container">
    <header class="postulaciones-header">
        <h2>
            <i class="fas fa-file-alt"></i>
            Mis Postulaciones
        </h2>
        <div class="header-actions">
            <button mat-raised-button class="primary-button" [routerLink]="['/dashboard/concursos']">
                <i class="fas fa-plus"></i>
                Nueva Postulaci칩n
            </button>
        </div>
    </header>

    <div class="postulaciones-content">
        <table mat-table [dataSource]="dataSource" class="postulaciones-table">
            <!-- Columna Concurso -->
            <ng-container matColumnDef="concurso">
                <th mat-header-cell *matHeaderCellDef>Concurso</th>
                <td mat-cell *matCellDef="let postulacion">{{postulacion.concurso}}</td>
            </ng-container>

            <!-- Columna Cargo -->
            <ng-container matColumnDef="cargo">
                <th mat-header-cell *matHeaderCellDef>Cargo</th>
                <td mat-cell *matCellDef="let postulacion">{{postulacion.cargo}}</td>
            </ng-container>

            <!-- Columna Dependencia -->
            <ng-container matColumnDef="dependencia">
                <th mat-header-cell *matHeaderCellDef>Dependencia</th>
                <td mat-cell *matCellDef="let postulacion">{{postulacion.dependencia}}</td>
            </ng-container>

            <!-- Columna Fecha de Postulaci칩n -->
            <ng-container matColumnDef="fechaPostulacion">
                <th mat-header-cell *matHeaderCellDef>Fecha de Postulaci칩n</th>
                <td mat-cell *matCellDef="let postulacion">
                    {{postulacion.fechaPostulacion | date:'dd/MM/yyyy'}}
                </td>
            </ng-container>

            <!-- Columna Estado -->
            <ng-container matColumnDef="estado">
                <th mat-header-cell *matHeaderCellDef>Estado</th>
                <td mat-cell *matCellDef="let postulacion">
                    <span class="estado-chip" [ngClass]="postulacion.estado.toLowerCase()">
                        {{postulacion.estado}}
                    </span>
                </td>
            </ng-container>

            <!-- Columna Acciones -->
            <ng-container matColumnDef="acciones">
                <th mat-header-cell *matHeaderCellDef>Acciones</th>
                <td mat-cell *matCellDef="let postulacion">
                    <button mat-button color="primary" (click)="verDetalle(postulacion.id)">
                        Ver detalle
                    </button>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>

        <mat-paginator 
            [pageSize]="10" 
            [hidePageSize]="true"
            aria-label="Seleccionar p치gina de postulaciones">
        </mat-paginator>
    </div>
</div>
